{% extends 'base.html.twig' %}

{% block title %}Your Feed - Centralinks{% endblock %}

{% block body %}
<div class="flex min-h-screen bg-[#161616] text-white">

 {{ include('feed/_sidenav.html.twig') }}
    <!-- MAIN FEED -->
    <main class="flex-1 p-10">
        <h1 class="text-3xl font-bold mb-8">Recent post in your feed</h1>

        <div class="grid gap-6">
            {% for post in posts %}
            <div class="bg-[#1e1e1e] border border-gray-700 rounded-xl p-6 shadow-md shadow-black/20">
                    <p class="text-gray-400">{{ post.text | slice(0, 100) ~ '...' }}</p>
                <div class="mt-4">
                    <img src="{{ post.image }}" alt="Post Image" class="w-full h-48 object-cover rounded-lg mb-4">
                    <span class="text-gray-500 text-sm">Posted by Yanis</span>
                </div>
            </div>
            {% endfor %}

            {% if posts is empty %}
            <div class="bg-[#1e1e1e] border border-gray-700 rounded-xl p-6 shadow-md shadow-black/20 text-gray-300">
                <h2 class="text-xl font-semibold mb-2">Feed is empty</h2>
                <p>Select a category from the left to view its posts.</p>
            </div>
            {% endif %}
        </div>
    </main>
</div>
{% endblock %}
